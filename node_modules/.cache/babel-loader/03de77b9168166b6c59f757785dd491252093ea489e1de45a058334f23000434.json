{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true';// Happy songs (add more as needed)\nconst HAPPY_SONGS=['happy.mp3','happy2.mp3','happy3.mp3','happy4.mp3'];// Sad songs (add more as needed)\nconst SAD_SONGS=['sad.mp3','sad2.mp3','sad3.mp3','sad4.mp3'];function App(){const[price,setPrice]=useState(null);const[change,setChange]=useState(null);const[music,setMusic]=useState('happy.mp3');const[isMuted,setIsMuted]=useState(false);const[volume,setVolume]=useState(0.5);// Start with 50% volume\nconst audioRef=useRef();const playRandomSong=()=>{if(change>=0){// Play random happy song\nconst randomIndex=Math.floor(Math.random()*HAPPY_SONGS.length);setMusic(HAPPY_SONGS[randomIndex]);}else{// Play random sad song\nconst randomIndex=Math.floor(Math.random()*SAD_SONGS.length);setMusic(SAD_SONGS[randomIndex]);}};useEffect(()=>{const fetchPrice=async()=>{try{const res=await fetch(API_URL);const data=await res.json();const btc=data.bitcoin.usd;const diff=data.bitcoin.usd_24h_change;setPrice(btc);setChange(diff);// Determine which music to play based on price change\nif(diff>=0){setMusic('happy.mp3');}else{setMusic('sad.mp3');}}catch(error){console.error('Error fetching Bitcoin price:',error);}};fetchPrice();const interval=setInterval(fetchPrice,60000);// Fetch every minute\nreturn()=>clearInterval(interval);},[]);useEffect(()=>{if(audioRef.current){if(!isMuted){audioRef.current.load();audioRef.current.volume=volume;audioRef.current.play().catch(error=>{console.error('Error playing audio:',error);});}}},[music,isMuted,volume]);const toggleMute=()=>{setIsMuted(!isMuted);if(audioRef.current){audioRef.current.muted=!isMuted;}};const handleVolumeChange=e=>{const newVolume=e.target.value;setVolume(newVolume);if(audioRef.current){audioRef.current.volume=newVolume;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mute-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mute-button \".concat(isMuted?'muted':''),onClick:toggleMute,title:isMuted?'Unmute':'Mute',children:isMuted?'ðŸ”‡':'ðŸ”Š'}),/*#__PURE__*/_jsxs(\"div\",{className:\"volume-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"volume-label\",children:\"Volume\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"volume-slider\",min:\"0\",max:\"1\",step:\"0.01\",value:volume,onChange:handleVolumeChange})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"random-button\",onClick:playRandomSong,title:\"Play random song based on price trend\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-music\"}),\"Random Song\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"bitcoin-text\",children:\"BITCOIN\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"price\",children:price?\"$\".concat(price.toLocaleString()):'--'}),/*#__PURE__*/_jsx(\"div\",{className:\"change \".concat(change>=0?'positive':'negative'),children:change!==null?\"\".concat(change>0?'+':'').concat(change.toFixed(2),\"%\"):'--'})]}),/*#__PURE__*/_jsxs(\"audio\",{ref:audioRef,autoPlay:true,loop:true,onCanPlay:()=>{if(audioRef.current&&!isMuted){audioRef.current.volume=volume;audioRef.current.play().catch(error=>{console.error('Error playing audio:',error);});}},onPlay:()=>{console.log('Audio started playing');},onError:e=>{console.error('Audio error:',e.target.error);},children:[/*#__PURE__*/_jsx(\"source\",{src:\"/music/\".concat(music),type:\"audio/mp3\"}),\"Your browser does not support the audio element.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"slogan\",children:\"Bullish Beats and Bearish Blues\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"disclaimer\",children:[\"The music played on BeatCoin is used for entertainment and educational purposes only.\",/*#__PURE__*/_jsx(\"br\",{}),\"All tracks are intended for non-commercial, personal enjoyment while browsing this site.\",/*#__PURE__*/_jsx(\"br\",{}),\"If you are the copyright owner of any music featured here and wish it to be removed, please contact us and we will take action promptly.\"]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","useRef","jsx","_jsx","jsxs","_jsxs","API_URL","HAPPY_SONGS","SAD_SONGS","App","price","setPrice","change","setChange","music","setMusic","isMuted","setIsMuted","volume","setVolume","audioRef","playRandomSong","randomIndex","Math","floor","random","length","fetchPrice","res","fetch","data","json","btc","bitcoin","usd","diff","usd_24h_change","error","console","interval","setInterval","clearInterval","current","load","play","catch","toggleMute","muted","handleVolumeChange","e","newVolume","target","value","className","children","concat","onClick","title","type","min","max","step","onChange","toLocaleString","toFixed","ref","autoPlay","loop","onCanPlay","onPlay","log","onError","src"],"sources":["/Users/antonioivanovski/CascadeProjects/beatcoin/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './App.css';\n\nconst API_URL = 'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true';\n\n// Happy songs (add more as needed)\nconst HAPPY_SONGS = [\n  'happy.mp3',\n  'happy2.mp3',\n  'happy3.mp3',\n  'happy4.mp3'\n];\n\n// Sad songs (add more as needed)\nconst SAD_SONGS = [\n  'sad.mp3',\n  'sad2.mp3',\n  'sad3.mp3',\n  'sad4.mp3'\n];\n\nfunction App() {\n  const [price, setPrice] = useState(null);\n  const [change, setChange] = useState(null);\n  const [music, setMusic] = useState('happy.mp3');\n  const [isMuted, setIsMuted] = useState(false);\n  const [volume, setVolume] = useState(0.5); // Start with 50% volume\n  const audioRef = useRef();\n\n  const playRandomSong = () => {\n    if (change >= 0) {\n      // Play random happy song\n      const randomIndex = Math.floor(Math.random() * HAPPY_SONGS.length);\n      setMusic(HAPPY_SONGS[randomIndex]);\n    } else {\n      // Play random sad song\n      const randomIndex = Math.floor(Math.random() * SAD_SONGS.length);\n      setMusic(SAD_SONGS[randomIndex]);\n    }\n  };\n\n  useEffect(() => {\n    const fetchPrice = async () => {\n      try {\n        const res = await fetch(API_URL);\n        const data = await res.json();\n        const btc = data.bitcoin.usd;\n        const diff = data.bitcoin.usd_24h_change;\n        setPrice(btc);\n        setChange(diff);\n\n        // Determine which music to play based on price change\n        if (diff >= 0) {\n          setMusic('happy.mp3');\n        } else {\n          setMusic('sad.mp3');\n        }\n      } catch (error) {\n        console.error('Error fetching Bitcoin price:', error);\n      }\n    };\n\n    fetchPrice();\n    const interval = setInterval(fetchPrice, 60000); // Fetch every minute\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    if (audioRef.current) {\n      if (!isMuted) {\n        audioRef.current.load();\n        audioRef.current.volume = volume;\n        audioRef.current.play().catch(error => {\n          console.error('Error playing audio:', error);\n        });\n      }\n    }\n  }, [music, isMuted, volume]);\n\n  const toggleMute = () => {\n    setIsMuted(!isMuted);\n    if (audioRef.current) {\n      audioRef.current.muted = !isMuted;\n    }\n  };\n\n  const handleVolumeChange = (e) => {\n    const newVolume = e.target.value;\n    setVolume(newVolume);\n    if (audioRef.current) {\n      audioRef.current.volume = newVolume;\n    }\n  };\n\n  return (\n    <div className=\"app-container\">\n      <div className=\"mute-container\">\n        <button \n          className={`mute-button ${isMuted ? 'muted' : ''}`} \n          onClick={toggleMute}\n          title={isMuted ? 'Unmute' : 'Mute'}\n        >\n          {isMuted ? 'ðŸ”‡' : 'ðŸ”Š'}\n        </button>\n        <div className=\"volume-container\">\n          <label className=\"volume-label\">Volume</label>\n          <input\n            type=\"range\"\n            className=\"volume-slider\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            value={volume}\n            onChange={handleVolumeChange}\n          />\n        </div>\n        <button \n          className=\"random-button\" \n          onClick={playRandomSong}\n          title=\"Play random song based on price trend\"\n        >\n          <i className=\"fas fa-music\"></i>\n          Random Song\n        </button>\n      </div>\n      <div className=\"price-container\">\n        <h2 className=\"bitcoin-text\">BITCOIN</h2>\n        <h1 className=\"price\">{price ? `$${price.toLocaleString()}` : '--'}</h1>\n        <div className={`change ${change >= 0 ? 'positive' : 'negative'}`}>\n          {change !== null ? `${change > 0 ? '+' : ''}${change.toFixed(2)}%` : '--'}\n        </div>\n      </div>\n      <audio \n        ref={audioRef} \n        autoPlay \n        loop \n        onCanPlay={() => {\n          if (audioRef.current && !isMuted) {\n            audioRef.current.volume = volume;\n            audioRef.current.play().catch(error => {\n              console.error('Error playing audio:', error);\n            });\n          }\n        }}\n        onPlay={() => {\n          console.log('Audio started playing');\n        }}\n        onError={(e) => {\n          console.error('Audio error:', e.target.error);\n        }}\n      >\n        <source src={`/music/${music}`} type=\"audio/mp3\" />\n        Your browser does not support the audio element.\n      </audio>\n      <div className=\"slogan\">Bullish Beats and Bearish Blues</div>\n      <div className=\"disclaimer\">\n        The music played on BeatCoin is used for entertainment and educational purposes only.\n        <br />\n        All tracks are intended for non-commercial, personal enjoyment while browsing this site.\n        <br />\n        If you are the copyright owner of any music featured here and wish it to be removed, please contact us and we will take action promptly.\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}